# ã€Š10æ—¥è®¡åˆ’-é™å¾…èŠ±å¼€ã€‹å¼€å‘å®æ–½è®¡åˆ’è¡¨ V2.0

æœ¬è®¡åˆ’è¡¨åŸºäº [PRD V4.0](./prd_v4.0.md) æ›´æ–°ï¼Œæ—¨åœ¨å®ç°â€œæ–°ä¸­å¼æ°´å¢¨é£â€ä¸â€œAIåŠ¨æ€æ‹†è§£â€æ ¸å¿ƒä¸šåŠ¡ã€‚

**çŠ¶æ€è¯´æ˜**ï¼š
- âœ…ï¼šå·²å®Œæˆ
- ğŸš§ï¼šè¿›è¡Œä¸­
- â³ï¼šå¾…å¼€å§‹

---

## ğŸ“… é˜¶æ®µä¸€ï¼šåŸºç¡€è®¾æ–½ä¸ç¯å¢ƒæ­å»º (Phase 1: Infrastructure & Setup)
**ç›®æ ‡ï¼š** å®Œæˆå‰åç«¯é¡¹ç›®åˆå§‹åŒ–ï¼Œæ‰“é€šæ•°æ®åº“è¿æ¥ï¼Œç¡®ç«‹ä»£ç è§„èŒƒã€‚

### 1.1 åç«¯ç¯å¢ƒ (Backend)
- [x] **é¡¹ç›®åˆå§‹åŒ–**ï¼šæ­å»º Node.js + Express é¡¹ç›®ç»“æ„ã€‚ âœ…
- [x] **æ•°æ®åº“å‡†å¤‡**ï¼šå®‰è£…å¹¶é…ç½® PostgreSQLï¼Œåˆ›å»º `10days_db` æ•°æ®åº“ã€‚ âœ…
- [x] **ORM é…ç½®**ï¼šé›†æˆ Sequelize ORMï¼Œé…ç½®æ•°æ®åº“è¿æ¥æ± ã€‚ âœ…
- [x] **åŸºç¡€ä¸­é—´ä»¶**ï¼šé…ç½® CORSã€BodyParserã€æ—¥å¿—è®°å½• (Morgan) åŠé”™è¯¯å¤„ç†ä¸­é—´ä»¶ã€‚ âœ…
- [x] **å¼€å‘å·¥å…·**ï¼šé…ç½® `nodemon` è‡ªåŠ¨é‡å¯ã€‚ âœ…

### 1.2 å‰ç«¯ç¯å¢ƒ (Frontend - Wechat Mini Program)
- [x] **é¡¹ç›®åˆ›å»º**ï¼šä½¿ç”¨å¾®ä¿¡å¼€å‘è€…å·¥å…·åˆ›å»ºå°ç¨‹åºé¡¹ç›® (åŸç”Ÿæ¡†æ¶)ã€‚ âœ…
- [x] **ç›®å½•è§„åˆ’**ï¼šå»ºç«‹å¾®ä¿¡å°ç¨‹åºçš„æ ‡å‡†ç›®å½•ã€‚ âœ…
- [x] **é…ç½®è°ƒæ•´**ï¼šä¿®æ­£ `project.config.json` ä¸­çš„ AppID é…ç½®ã€‚ âœ…

### 1.3 è§„èŒƒä¸ç‰ˆæœ¬æ§åˆ¶
- [x] **Git åˆå§‹åŒ–**ï¼šåˆ›å»ºä»“åº“ï¼Œé…ç½® `.gitignore`ã€‚ âœ…
- [x] **API è§„èŒƒ**ï¼šç¡®å®šç»Ÿä¸€å“åº”æ ¼å¼ `{ code, data, msg }`ã€‚ âœ…

---

## ğŸ¨ é˜¶æ®µäºŒï¼šè§†è§‰ç³»ç»Ÿä¸é™æ€é¡µé¢ (Phase 2: UI/UX Foundation)
**ç›®æ ‡ï¼š** 1:1 è¿˜åŸ PRD V4.0 å®šä¹‰çš„â€œæ–°ä¸­å¼æ°´å¢¨â€è§†è§‰ï¼Œå®Œæˆåº•éƒ¨ Tab æ¶æ„ã€‚

### 2.1 å…¨å±€è§†è§‰å®šä¹‰
- [x] **è‰²æ¿é…ç½®**ï¼šåœ¨ `app.wxss` ä¸­å®šä¹‰ CSS å˜é‡ã€‚ âœ…
- [x] **å­—ä½“ä¸ç»„ä»¶**ï¼šå¼•å…¥å­—ä½“ï¼Œå°è£… `InkButton`ã€`PaperCard` ç­‰ç»„ä»¶ã€‚ âœ…

### 2.2 åº•éƒ¨ Tab æ¶æ„ (The Hub)
- [x] **Tab é…ç½®**ï¼šé…ç½® 3 ä¸ª Tabã€‚ âœ…
- [x] **è‡ªå®šä¹‰ TabBar**ï¼šå®ç°æ°´å¢¨é£æ ¼çš„åº•éƒ¨å¯¼èˆªæ ã€‚ âœ…

### 2.3 æ ¸å¿ƒé¡µé¢é™æ€æ­å»º
- [x] **ç¯‡ç« é¡µ (Quest Tab)**ï¼šå±•ç¤ºè¿›è¡Œä¸­çš„ç¯‡ç« åˆ—è¡¨ã€‚ âœ…
- [x] **é•¿å·é¡µ (Master Plan Tab)**ï¼šå±•ç¤ºé•¿å·å…¨æ™¯ã€‚ âœ…
- [x] **ç¯‡ç« è¯¦æƒ…é¡µ (Quest Detail)**ï¼šå±•ç¤º 10 å¤©è¿›åº¦æ¡ã€ç›–ç« /ç•™ç™½æŒ‰é’®ã€‚ âœ…
- [x] **é•¿å·åˆ›å»ºé¡µ**ï¼šè¾“å…¥è¡¨å•ã€‚ âœ…
- [x] **ç¯‡ç« åˆ›å»º/ä¿®æ”¹é¡µ**ï¼šå±•ç¤ºä»»åŠ¡æ‹†è§£ã€‚ âœ…
- [x] **ç»“ç®—é¡µ (Review)**ï¼šä»»åŠ¡å›é¡¾ã€‚ âœ…
- [x] **æˆ‘**ï¼šä¸ªäººä¸­å¿ƒé™æ€é¡µé¢ã€‚ âœ…

---

## âš™ï¸ é˜¶æ®µä¸‰ï¼šåç«¯æ ¸å¿ƒä¸šåŠ¡å¼€å‘ (Phase 3: Backend Core Development)
**ç›®æ ‡ï¼š** å®ç° PRD V4.0 å®šä¹‰çš„â€œé•¿å·-ç¯‡ç« â€åŒå±‚ç»“æ„åŠ AI æ‹†è§£é€»è¾‘ã€‚

### 3.1 æ•°æ®åº“å»ºæ¨¡ (Schema Update)

æ ¹æ® [API æ–‡æ¡£](./api_docs.md) è®¾è®¡ï¼Œæ ¸å¿ƒå®ä½“å…³ç³»å¦‚ä¸‹ï¼š

#### 1. ç”¨æˆ· (Users)
| Field | Type | Description |
| :--- | :--- | :--- |
| `id` | UUID | ä¸»é”® |
| `openId` | String | å¾®ä¿¡ OpenID (Unique) |
| `nickName` | String | æ˜µç§° |
| `avatarUrl` | String | å¤´åƒåœ°å€ |
| `createdAt` | DateTime | æ³¨å†Œæ—¶é—´ |

#### 2. é•¿å· (Plans)
| Field | Type | Description |
| :--- | :--- | :--- |
| `id` | UUID | ä¸»é”® |
| `userId` | UUID | å¤–é”® -> Users.id |
| `title` | String | é•¿å·ç›®æ ‡ (å¦‚ï¼š90å¤©ç²¾é€šå‰ä»–) |
| `totalDays` | Integer | æ€»å¤©æ•° (å¦‚ï¼š90) |
| `status` | Enum | ongoing, completed |
| `createdAt` | DateTime | åˆ›å»ºæ—¶é—´ |

#### 3. ç¯‡ç«  (Quests)
| Field | Type | Description |
| :--- | :--- | :--- |
| `id` | UUID | ä¸»é”® |
| `planId` | UUID | å¤–é”® -> Plans.id (å¯ç©ºï¼Œä¸ºç©ºåˆ™æ˜¯ç‹¬ç«‹ç¯‡ç« ) |
| `userId` | UUID | å¤–é”® -> Users.id |
| `title` | String | ç¯‡ç« ç›®æ ‡ (å¦‚ï¼šå‰ä»–å…¥é—¨ï¼šå’Œå¼¦ç»ƒä¹ ) |
| `orderNum` | Integer | åœ¨é•¿å·ä¸­çš„åºå· (ç¬¬å‡ ç¯‡) |
| `status` | Enum | locked, ongoing, completed, skipped |
| `baseTask` | Text | æ¯æ—¥å¿…ä¿®ä»»åŠ¡ (åŸºçŸ³) |
| `stageTasks` | JSONB | é˜¶æ®µä»»åŠ¡é…ç½® (JSONB) <br> Structure: `{ stage1Task: ['xxx'], stage2Task: ['xxx'], stage3Task: ['xxx'] }` |
| `startDate` | Date | å¼€å¯æ—¥æœŸ |
| `createdAt` | DateTime | åˆ›å»ºæ—¶é—´ |

#### 4. æ‰“å¡è®°å½• (CheckIns)
| Field | Type | Description |
| :--- | :--- | :--- |
| `id` | UUID | ä¸»é”® |
| `questId` | UUID | å¤–é”® -> Quests.id (ä¸ dayNum ç»„æˆè”åˆç´¢å¼•) |
| `dayNum` | Integer | ç¬¬å‡ å¤© (1-10) (ä¸ questId ç»„æˆè”åˆç´¢å¼•) |
| `status` | Enum | completed, skipped |
| `stampText` | Enum | 'æ—¢æˆ', 'æ„¿é‚', 'ç¬”è®«', 'å¢¨å°±' |
| `note` | Text | å¿ƒå¾—ç¬”è®° |
| `createdAt` | DateTime | æ‰“å¡æ—¶é—´ |

### 3.2 æ ¸å¿ƒ API å¼€å‘
- [ ] è§ [API æ–‡æ¡£](./api_docs.md)

### 3.3 AI æœåŠ¡é›†æˆ (Mock/Real)
- [ ] æ¥å…¥Langchain + deepseekçš„å¤§æ¨¡å‹æ¥å£ï¼Œå°†deepseek API KEY ä¿å­˜è‡³ç¯å¢ƒå˜é‡ã€‚

---

## ğŸ–Œï¸ é˜¶æ®µå››ï¼šå‰åç«¯APIå¯¹æ¥

---

## ğŸš€ é˜¶æ®µäº”ï¼šæµ‹è¯•ä¸ä¼˜åŒ– (Phase 5: Testing & Optimization)
**ç›®æ ‡ï¼š** ç¡®ä¿ä¸šåŠ¡é€»è¾‘ä¸¥å¯†ï¼ŒUI ç»†èŠ‚åˆ°ä½ã€‚

### 5.1 é€»è¾‘éªŒè¯
- [ ] **è§„åˆ™æµ‹è¯•**ï¼š
    - éªŒè¯â€œç•™ç™½â€æ¬¡æ•°é™åˆ¶ï¼ˆæ¯ç¯‡ç«  3 æ¬¡ï¼‰ã€‚
